<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Leveraging Representation Engineering to Evaluate LLM’s Situational Awareness | 6.S898 Deep Learning Blogs 2023</title> <meta name="author" content="abc b c"/> <meta name="description" content="We present a method to tell whether LLMs are drawing from knowledge not explicitly mentioned in the prompt by examining token-level representations."/> <meta name="keywords" content="machine-learning, ml, deep-learning, reinforcement-learning, iclr"/> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"/> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"/> <link rel="stylesheet" href="/staging/assets/css/main.css"> <link rel="canonical" href="https://deep-learning-mit.github.io/staging/blog/2023/project-blog/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"/> <script src="/staging/assets/js/theme.js"></script> <script src="/staging/assets/js/dark_mode.js"></script> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src="/staging/assets/js/distillpub/template.v2.js"></script> <script src="/staging/assets/js/distillpub/transforms.v2.js"></script> <script src="/staging/assets/js/distillpub/overrides.js"></script> <style type="text/css">.fake-img{background:#bbb;border:1px solid rgba(0,0,0,0.1);box-shadow:0 0 4px rgba(0,0,0,0.1);margin-bottom:12px}.fake-img p{font-family:monospace;color:white;text-align:left;margin:12px 0;text-align:center;font-size:16px}</style> </head> <d-front-matter> <script async type="text/json">{
      "title": "Leveraging Representation Engineering to Evaluate LLM’s Situational Awareness",
      "description": "We present a method to tell whether LLMs are drawing from knowledge not explicitly mentioned in the prompt by examining token-level representations.",
      "published": "November 8, 2023",
      "authors": [
        {
          "author": "Alex Hu",
          "authorURL": "https://www.linkedin.com/in/alexander-hu/",
          "affiliations": [
            {
              "name": "MIT",
              "url": ""
            }
          ]
        },
        {
          "author": "Carl Guo",
          "authorURL": "https://www.carlguo.com/",
          "affiliations": [
            {
              "name": "MIT",
              "url": ""
            }
          ]
        }
        
      ],
      "katex": {
        "delimiters": [
          {
            "left": "$",
            "right": "$",
            "display": false
          },
          {
            "left": "$$",
            "right": "$$",
            "display": true
          }
        ]
      }
    }</script> </d-front-matter> <body class="fixed-top-nav"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/staging/">6.S898 Deep Learning Blogs 2023</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/staging/blog/index.html">blog</a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">past iterations</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="https://iclr-blog-track.github.io/home/">2022</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> </header> <div class="post distill"> <d-title> <h1>Leveraging Representation Engineering to Evaluate LLM’s Situational Awareness</h1> <p>We present a method to tell whether LLMs are drawing from knowledge not explicitly mentioned in the prompt by examining token-level representations.</p> </d-title> <d-byline></d-byline> <d-article> <d-contents> <nav class="l-text figcaption"> <h3>Contents</h3> <div><a href="#background">Background</a></div> <div><a href="#motivation">Motivation</a></div> <div><a href="#sources">Sources</a></div> </nav> </d-contents> <h2 id="background">Background</h2> <p>Emerging capabilities in deep neural networks are not well understood, one of which is the concept of “situational awareness,” an emergent LLM capability where they understand whether they are in training, testing, or deployment. This behavior can emerge from the fact that training datasets contain articles about LLMs, AI model training, testing, and deployment. If an LLM were to possess “situation awareness,” it might give misleading results on safety tests before deployment or deceptively align to human feedback in fine-tuning. Understanding and evaluating LLM’s capability of “situational awareness” can increase LLM’s safety and usefulness.</p> <p>Because “situational awareness” is a loaded concept, <a href="https://arxiv.org/pdf/2309.00667.pdf">Berglund et al. (2023)</a> study a proxy capability that they coin “sophisticated out-of-context reasoning” (SOC), where LLMs utilize data from pre-training/fine-tuning corpora during inference on an unrelated piece of text without specifically being prompted to do so. Specifically, they finetune LLMs to mimic a chatbot to, say, answer the questions in German by only giving them the description that it speaks only German but not German text. Here, the model is evaluated on a task where it needs to perform much more sophisticated reasoning than direct retrieval from the training set.</p> <p>Another inspiring field of work is to understand and interpret the mechanistic internals of deep learning models. One such inspiring work is Zou et al. (2023)’s paper on Representation Engineering (RepE), where they construct a set of training text stimuli to elicit LLM’s beliefs, split them into pairs, and use PCA to find a reading vector to transform the model representation then when given new tests. This approach allows us to elicit readings of representation and control such representation. Similarly, <a href="https://arxiv.org/pdf/2210.07229.pdf">Meng et al. (2023)</a> present ways to edit memory in Transformers about certain representations.</p> <h2 id="motivation">Motivation</h2> <p><a href="https://arxiv.org/pdf/2309.00667.pdf">Berglund et al. (2023)</a>’s work is limited in the sense that it studies out-of-context learning in toy settings after fine-tuning the model on task descriptions. Instead, we aim to discover token-level representations indicating how much models perform sophisticated out-of-context reasoning in more realistic test settings leveraging representation control and editing tools mentioned above. These tools allow us to construct artificial examples of out-of-context learning while maintaining the overall model performance on other tasks, making the evaluation more realistic. Finally, we construct features from the final layer of our LLM when performing inference and group these features depending on whether the generated token relies or does not rely on out-of-context reasoning. We’ll use the Representation Reading methods presented in <a href="https://arxiv.org/pdf/2310.01405.pdf">Zou et al. (2023)</a> to review the context where the model attends to and discover directions that indicate such reasoning (or the lack thereof), and compare our findings against the fine-tuning approach.</p> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> </d-appendix> </div> <d-bibliography src="/staging/assets/bibliography/2023-11-08-project-blog.bib"></d-bibliography> <script src="https://utteranc.es/client.js" repo="iclr-blogposts/2023" issue-term="pathname" theme="github-light" crossorigin="anonymous" async> </script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> </body> </html>